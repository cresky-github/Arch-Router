# ä»£ç†ç«¯å£
# ç«¯å£æ˜¯è®¡ç®—æœºæˆ–è·¯ç”±äº¤æ¢æœºå†…éƒ¨çš„ä¸€éƒ¨åˆ†ï¼Œè®¡ç®—æœºæŒ‰ç…§ INTERNET ä¼ è¾“å±‚ TCP/IP åè®®è¿›è¡Œé€šä¿¡ï¼Œä¸åŒçš„åè®®å¯¹åº”ä¸åŒçš„ç«¯å£
# http(s) ä»£ç†ç«¯å£
port: 7890
# socks4/4a/5 ä»£ç†ç«¯å£
socks-port: 7891
# æ··åˆä»£ç†ç«¯å£ http(s)+socks
mixed-port: 7892
# redirect ç«¯å£ä»…é™ Linux ä»¥åŠ macOS é€‚ç”¨
# redirect é€æ˜ä»£ç†ç«¯å£ï¼Œä»…èƒ½ä»£ç† TCP æµé‡
redir-port: 7893
# tproxy é€æ˜ä»£ç†ç«¯å£ï¼Œå¯ä»¥ä»£ç† TCP ä»¥åŠ UDP æµé‡
# tproxy ç«¯å£ä»…é™ linux é€‚ç”¨ (Android è®¾å¤‡å±äº Linux è®¾å¤‡ï¼‰
tproxy-port: 7894


#ebpfé…ç½®
#ebpf:
  # redirect æ¨¡å¼ï¼Œä»…æ”¯æŒ TCP
  # auto-redir: [eth0]
  # UDP+TCP ä½¿ç”¨è¯¥åŠŸèƒ½è¯·å‹¿å¯ç”¨ auto-route
  # redirect-to-tun: [eth0]

# å…è®¸å±€åŸŸç½‘
# å…è®¸å…¶ä»–è®¾å¤‡ç»è¿‡ Clash çš„ä»£ç†ç«¯å£è®¿é—®äº’è”ç½‘
# å¯é€‰å€¼ true/false
allow-lan: true

# Tun é…ç½®
tun:
  # å¯é€‰å€¼ true/false
  enable: false
  # å¯é€‰å€¼
  #   system 
  #   gvisor
  #   lwip
  stack: system
  # dns-hijack:
    #- 0.0.0.0:53 # éœ€è¦åŠ«æŒçš„ DNS
  # auto-detect-interface: true # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡
  # auto-route: true # é…ç½®è·¯ç”±è¡¨
  # mtu: 9000 # æœ€å¤§ä¼ è¾“å•å…ƒ
  # strict-route: true # å°†æ‰€æœ‰è¿æ¥è·¯ç”±åˆ°tunæ¥é˜²æ­¢æ³„æ¼ï¼Œä½†ä½ çš„è®¾å¤‡å°†æ— æ³•å…¶ä»–è®¾å¤‡è¢«è®¿é—®
  # inet4-route-address: # å¯ç”¨ auto_route æ—¶ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±è€Œä¸æ˜¯é»˜è®¤è·¯ç”±
    #- 0.0.0.0/1
    #- 128.0.0.0/1
  # inet6-route-address: # å¯ç”¨ auto_route æ—¶ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±è€Œä¸æ˜¯é»˜è®¤è·¯ç”±
    #- "::/1"
    #- "8000::/1"
  # endpoint-independent-nat: false # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT
  # include-uid: # UID è§„åˆ™ä»…åœ¨ Linux ä¸‹è¢«æ”¯æŒï¼Œå¹¶ä¸”éœ€è¦ auto_route
  # - 0
  # include-uid-range: # é™åˆ¶è¢«è·¯ç”±çš„çš„ç”¨æˆ·èŒƒå›´
  # - 1000-99999
  # exclude-uid: # æ’é™¤è·¯ç”±çš„çš„ç”¨æˆ·
  #- 1000
  # exclude-uid-range: # æ’é™¤è·¯ç”±çš„çš„ç”¨æˆ·èŒƒå›´
  # - 1000-99999

  # Android ç”¨æˆ·å’Œåº”ç”¨è§„åˆ™ä»…åœ¨ Android ä¸‹è¢«æ”¯æŒ
  # å¹¶ä¸”éœ€è¦ auto-route

  # include-android-user: # é™åˆ¶è¢«è·¯ç”±çš„ Android ç”¨æˆ·
  # - 0
  # - 10
  # include-package: # é™åˆ¶è¢«è·¯ç”±çš„ Android åº”ç”¨åŒ…å
  # - com.android.chrome
  # exclude-package: # æ’é™¤è¢«è·¯ç”±çš„ Android åº”ç”¨åŒ…å
  # - com.android.captiveportallogin

# ç»‘å®š IP, é€šè¿‡ LAN è®¿é—®ä¸€ä¸ª/ä¸€äº›ç‰¹å®šçš„ IP åœ°å€
# "*" ç»‘å®šæ‰€æœ‰ IP åœ°å€ï¼Œé»˜è®¤å€¼ï¼Œä¸å¡«å†™æ­¤é¡¹åˆ™ç»‘å®šå…¨éƒ¨
# 192.168.31.31: ç»‘å®šå•ä¸ª IPV4 åœ°å€
# "[aaaa::a8aa:ff:fe09:57d8]": ç»‘å®šå•ä¸ª IPV6 åœ°å€
# bind-address: "*"

# http(s) å’Œ socks ä»£ç†çš„ç”¨æˆ·éªŒè¯
# authentication:
#   - "user1:pass1"
#   - "user2:pass2"
# authentication: [""]

# è¿è¡Œæ¨¡å¼
#   rule    è§„åˆ™åŒ¹é…
#   global  å…¨å±€ä»£ç†(éœ€è¦åœ¨GLOBALç­–ç•¥ç»„é€‰æ‹©ä»£ç†/ç­–ç•¥)
#   direct  å…¨å±€ç›´è¿
# æ­¤é¡¹æ‹¥æœ‰é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸ºè§„åˆ™æ¨¡å¼
mode: rule

# æ—¥å¿—çº§åˆ«
# Clash å†…æ ¸è¾“å‡ºæ—¥å¿—çš„ç­‰çº§ï¼Œä»…åœ¨æ§åˆ¶å°å’Œæ§åˆ¶é¡µé¢è¾“å‡º
#   silent    é™é»˜ï¼Œä¸è¾“å‡º
#   error     ä»…è¾“å‡ºå‘ç”Ÿé”™è¯¯è‡³æ— æ³•ä½¿ç”¨çš„æ—¥å¿—
#   warning   è¾“å‡ºå‘ç”Ÿé”™è¯¯ä½†ä¸å½±å“è¿è¡Œçš„æ—¥å¿—ï¼Œä»¥åŠ error çº§åˆ«å†…å®¹
#   info      è¾“å‡ºä¸€èˆ¬è¿è¡Œçš„å†…å®¹ï¼Œä»¥åŠ error å’Œ warning çº§åˆ«çš„æ—¥å¿—
#   debug     å°½å¯èƒ½çš„è¾“å‡ºè¿è¡Œä¸­æ‰€æœ‰çš„ä¿¡æ¯
log-level: info

# IPv6
# æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡
# å¯é€‰å€¼ true/false,é»˜è®¤ä¸º false
ipv6: false

# å¤–éƒ¨æ§åˆ¶ (API)
# å¤–éƒ¨æ§åˆ¶å™¨ï¼Œå¯ä»¥ä½¿ç”¨ RESTful API æ¥æ§åˆ¶ä½ çš„ Clash å†…æ ¸
# API ç›‘å¬åœ°å€ï¼Œä½ å¯ä»¥å°† 127.0.0.1 ä¿®æ”¹ä¸º 0.0.0.0 æ¥ç›‘å¬æ‰€æœ‰ IP
external-controller: :65305
# å¤–éƒ¨ç”¨æˆ·ç•Œé¢
# å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆæ¯”å¦‚ Clash-dashboard) è¿è¡Œåœ¨ Clash API, è·¯å¾„ä¸º API åœ°å€/ui
# å¯ä»¥ä¸ºç»å¯¹è·¯å¾„ï¼Œæˆ–è€… Clash å·¥ä½œç›®å½•çš„ç›¸å¯¹è·¯å¾„
external-ui: ui
# HTTPS-API ç›‘å¬åœ°å€ï¼Œéœ€è¦é…ç½® tls éƒ¨åˆ†è¯ä¹¦å’Œå…¶ç§é’¥é…ç½®ï¼Œä½¿ç”¨ TLS ä¹Ÿå¿…é¡»å¡«å†™ external-controller
# external-controller-tls: 127.0.0.1:9443
# API çš„è®¿é—®å¯†é’¥
secret: 

experimental: {ignore-resolve-fail: true, interface-name: en0}

# [Metaä¸“å±]
# åŸŸåå—…æ¢å™¨
# Clashä½¿ç”¨Mappingæœºåˆ¶è§£å†³é€æ˜ä»£ç†æƒ…å†µä¸‹,æ— æ³•é€šè¿‡Redirç«¯å£ä¼ é€’åŸŸåçš„é—®é¢˜ï¼›
# ä½†æ­¤æœºåˆ¶ä¼šå¯¼è‡´å¦‚æœä¸ä½¿ç”¨Clashå†…ç½®çš„DNSè§£ææœåŠ¡,å°±æ— æ³•å‡†ç¡®è¿˜åŸåŸŸå,è¿›è¡ŒåŸŸååˆ†æµçš„é—®é¢˜ã€‚
# Metaå†…ç½®äº†SnifferåŸŸåå—…å™¨,é€šè¿‡è¯»å–æ¡æ‰‹åŒ…å†…çš„åŸŸåå­—æ®µ,å°†IPè¿˜åŸæˆåŸŸå,æœ‰æ•ˆè§£å†³Mappingæœºåˆ¶çš„çŸ­æ¿ã€‚
sniffer:
  # å—…æ¢å™¨å¼€å…³
  enable: true
  # å¼€å¯åå¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  # åŒ…å« Tunã€Redir å’Œ TProxy æˆ– DNS ä¸º redir-host
  force-dns-mapping: true
  # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: false
  # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®,é»˜è®¤ true
  # å…¨å±€é…ç½®,ä¼˜å…ˆçº§ä½äº sniffer.sniff å®é™…é…ç½®
  override-destination: false
  sniff:
    # TLS é»˜è®¤å¦‚æœä¸é…ç½® ports é»˜è®¤å—…æ¢ 443
    TLS:
      ports: [443, 8443]
    # éœ€è¦å—…æ¢çš„ç«¯å£, é»˜è®¤å—…æ¢ 80
    HTTP:
      ports: [80, 8080-8880]
      # å¯è¦†ç›– sniffer.override-destination
      override-destination: true
  #force-domain:
  #  - +.v2ex.com
  # ç™½åå•,è·³è¿‡å—…æ¢ç»“æœ
  #skip-domain:
  #  - Mijia Cloud

store-selected: true

# è¿›ç¨‹åŒ¹é…æ¨¡å¼
# æ§åˆ¶æ˜¯å¦è®© Clash å»åŒ¹é…è¿›ç¨‹
#   always    å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
#   strict    é»˜è®¤ï¼Œç”± Clash åˆ¤æ–­æ˜¯å¦å¼€å¯
#   off       ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: always

# [Metaä¸“å±]
# ç»Ÿä¸€å»¶è¿Ÿ
# æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼,å»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ
# å¯é€‰å€¼ true/false
unified-delay: false

# [Metaä¸“å±]
# å¯ç”¨TCPå¹¶å‘
# å¯é€‰å€¼ true/false
tcp-concurrent: true

# å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹
# å…¨å±€ TLS æŒ‡çº¹ï¼Œä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprintã€‚
# ç›®å‰æ”¯æŒå¼€å¯ TLS ä¼ è¾“çš„ TCP/grpc/WS/HTTP , æ”¯æŒåè®®æœ‰ VLESS,Vmess å’Œ trojan.
# å¯é€‰ï¼š"chrome", "firefox", "safari", "iOS", "android", "edge", "360"," qq", "random"
# è‹¥é€‰æ‹© "random", åˆ™æŒ‰ Cloudflare Radar æ•°æ®æŒ‰æ¦‚ç‡ç”Ÿæˆä¸€ä¸ªç°ä»£æµè§ˆå™¨æŒ‡çº¹ã€‚
# global-client-fingerprint: chrome

# [Metaä¸“å±]
# GEOæ•°æ®æ¨¡å¼
# æ›´æ”¹geoipä½¿ç”¨æ–‡ä»¶,mmdbæˆ–è€…dat,å¯é€‰ true / false,
#   true    dat
#   false   é»˜è®¤å€¼,ä½¿ç”¨mmdbæ•°æ®åº“
geodata-mode: true
# GEOæ–‡ä»¶åŠ è½½æ¨¡å¼
# å¯é€‰çš„åŠ è½½æ¨¡å¼å¦‚ä¸‹
#     standard          æ ‡å‡†åŠ è½½å™¨
#     memconservative   ä¸“ä¸ºå†…å­˜å—é™(å°å†…å­˜)è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨(é»˜è®¤å€¼)
geodata-loader: standard
# è‡ªå®š GEO ä¸‹è½½åœ°å€
geox-url:
  geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"


# å¯ç”¨UDP
udp: true


# ç¼“å­˜è®¾ç½®(æ–‡ä»¶ä½ç½®./cache.db)
# åœ¨ Clash å®˜æ–¹ä¸­ï¼Œprofile åº”ä¸ºæ‰©å±•é…ç½®ï¼Œä½†åœ¨ Clash.meta, ä»…ä½œä¸ºç¼“å­˜é¡¹ä½¿ç”¨
# å¯é€‰å€¼ true/false
profile:
  # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©ï¼Œä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  # èŠ‚ç‚¹çŠ¶æ€è®°å¿†ï¼ˆè‹¥ä¸åŒé…ç½®æœ‰åŒä»£ç†åç§°,è®¾ç½®å€¼å…±äº«ï¼‰
  store-selected: false
  # fake-ipç¼“å­˜
  # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶ï¼Œä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€
  store-fake-ip: true

dns:
  # DNSæ˜¯å¦å¯ç”¨(false/true)
  enable: true
  # å¼€å¯(false/true) DoH æ”¯æŒ HTTP/3ï¼Œå°†å¹¶å‘å°è¯•
  prefer-h3: true
  # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  listen: 0.0.0.0:1053
  # æŸ¥è¯¢hostsé…ç½®å¹¶è¿”å›çœŸå®IP
  use-hosts: true
  # æ˜¯å¦å¯ç”¨IPv6
  ipv6: false
  # DNSæ¨¡å¼(redir-host/fake-ip)
  # [Metaä¸“å±] - redir-hostä¼ é€’åŸŸåï¼Œå¯è¿œç¨‹è§£æ
  enhanced-mode: fake-ip
  # fake-ip æ± è®¾ç½®
  # æ ¼å¼ä¸º ip/æ©ç 
  # tun ç½‘å¡çš„é»˜è®¤ ip ä¹Ÿä½¿ç”¨æ­¤å€¼
  fake-ip-range: 198.18.0.0/15
  # é»˜è®¤ dns, ç”¨äºè§£æ DNS æœåŠ¡å™¨ çš„åŸŸå
  # å¿…é¡»ä¸º ip, å¯ä¸ºåŠ å¯† dns
  default-nameserver: ['udp://127.0.0.1']
  # é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨
  # å¦‚ä¸é…ç½® fallback/proxy-server-nameserver , åˆ™æ‰€æœ‰åŸŸåéƒ½ç”± nameserver è§£æ
  nameserver: ['udp://127.0.0.1']
  # æŒ‡å®šåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ geosite, ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
  # å¹¶å‘æŸ¥è¯¢ï¼Œæ— æ³•ä¿è¯é¡ºåºï¼Œä»¥ä¸‹ä»…ä½œä¸ºä¹¦å†™æ¼”ç¤ºï¼Œå»ºè®®æ ¹æ®è‡ªå·±éœ€æ±‚å†™
  nameserver-policy: {"rule-set:DIRECT-DOMAIN": ['tcp://119.29.29.29']}
  # ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨,ä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸå
  # å½“proxyé‡Œçš„serverä¸ºåŸŸåæ—¶ï¼Œä½¿ç”¨è¯¥åˆ—è¡¨é‡Œçš„dnsæœåŠ¡å™¨è§£æã€‚
  # å½“é…ç½®æ–‡ä»¶æ— æ­¤å­—æ®µçš„æ—¶å€™ï¼Œä½¿ç”¨ nameserver åˆ—è¡¨é‡Œçš„dnsè§£æï¼›
  # è¯·åŠ¡å¿…ç¡®ä¿æ­¤å¤„çš„dnsæ— æ±¡æŸ“ï¼Œå¯æ­£å¸¸ä½¿ç”¨ï¼Œå¦åˆ™èŠ‚ç‚¹å¯èƒ½æ— æ³•è¿æ¥ã€‚
  proxy-server-nameserver: ['udp://127.0.0.1:53053']



proxy-provides-define: &PROXY-PROVIDERS
  type: &TYPE http
  interval: &INTERVAL 1800
  health-check: &HEALTH-CHECK
    enable: true
    url: &URL-TEST http://www.gstatic.com/generate_204
    interval: *INTERVAL
proxy-providers:
  è®¢é˜…ï¼š1:
    <<: *PROXY-PROVIDERS
    url: ''
    path: './proxy_providers/1.yaml'

  è®¢é˜…ï¼š2:
    <<: *PROXY-PROVIDERS
    url: ''
    path: './proxy_providers/2.yaml'



# ä»£ç†ç»„
data-define:
  filter-all: &ALL-FILTER '.*'
  filter-exclude: &EXCLUDE-FILTER "(?!)(æ›´æ–°|è®¢é˜…|é‡ç½®|åˆ°æœŸ|æµé‡|ä¸­å›½)"
  filter-gpt: &GPT-FILTER 'gpt|GPT'
  filter-netflix: &NETFLIX-FILTER '(ğŸ‡ºğŸ‡¸|ç¾å›½|æ´›æ‰çŸ¶|æ—§é‡‘å±±|åŠ å·|UnitedStates).*(å¥ˆé£|åŸç”Ÿ|NF|NETFLIX)'
  filter-stream-media: &STREAM-MEDIA-FILTER '(ğŸ‡ºğŸ‡¸|ç¾å›½|æ´›æ‰çŸ¶|æ—§é‡‘å±±|åŠ å·|UnitedStates)'
  filter-hk: &HK-FILTER '(ğŸ‡­ğŸ‡°|é¦™æ¸¯|HongKong)'
  filter-jp: &JP-FILTER '(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|Japan)'
  filter-sg: &SG-FILTER '(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|Singapore)'
  filter-tw: &TW-FILTER '(ğŸ‡¹ğŸ‡¼|å°æ¹¾)'
  filter-us: &US-FILTER '(ğŸ‡ºğŸ‡¸|ç¾å›½|æ´›æ‰çŸ¶|æ—§é‡‘å±±|åŠ å·|UnitedStates)'
  name-apple: &APPLE-NAME ğŸ”¸ğŸè‹¹æœğŸğŸ”¸
  name-dev: &DEV-NAME ğŸ”¸ğŸ”°DEVğŸ”°ğŸ”¸
  name-ent: &ENT-NAME ğŸ”¸ğŸ”±å¨±ä¹ğŸ”±ğŸ”¸
  name-game: &GAME-NAME ğŸ”¸ğŸ’¢æ¸¸æˆğŸ’¢ğŸ”¸
  name-google: &GOOGLE-NAME ğŸ”¸â˜¢ï¸è°·æ­Œâ˜¢ï¸ğŸ”¸
  name-gpt: &GPT-NAME ğŸ”¸ğŸ”³ GPT ğŸ”³ğŸ”¸
  name-media: &MEDIA-NAME ğŸ”¸ğŸ“°MEDIAğŸ“°ğŸ”¸
  name-microsoft: &MICROSOFT-NAME ğŸ”¸â“‚ï¸å¾®è½¯â“‚ï¸ğŸ”¸
  name-netflix: &PROXY-NETFLIX-NAME ğŸ”¸ğŸ¥NETFLIXğŸ¥ğŸ”¸
  name-system: &SYSTEM-NAME ğŸ”¸ğŸˆ¯ç³»ç»ŸğŸˆ¯ğŸ”¸
  name-telegram: &TELEGRAM-NAME ğŸ”¸âœˆï¸ç”µæŠ¥âœˆï¸ğŸ”¸
  name-hk: &HK-NAME ğŸ”¸ğŸ‡­ğŸ‡°é¦™æ¸¯ğŸ‡­ğŸ‡°ğŸ”¸
  name-jp: &JP-NAME ğŸ”¸ğŸ‡¯ğŸ‡µæ—¥æœ¬ğŸ‡¯ğŸ‡µğŸ”¸
  name-sg: &SG-NAME ğŸ”¸ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ğŸ”¸
  name-tw: &TW-NAME ğŸ”¸ğŸ‡¹ğŸ‡¼å°æ¹¾ğŸ‡¹ğŸ‡¼ğŸ”¸
  name-us: &US-NAME ğŸ”¸ğŸ‡ºğŸ‡¸ç¾å›½ğŸ‡ºğŸ‡¸ğŸ”¸
  interval-group: &INTERVAL-GROUP 300
  use-group: &PROXIES
    - è®¢é˜…ï¼š1
    #- è®¢é˜…ï¼š2

proxy-groups-balance-define: &PROXY-GROUP-BALANCE
  type: load-balance
  url: *URL-TEST
  # é—´éš”å¤šé•¿æ—¶é—´è¿›è¡Œä¸€æ¬¡æµ‹è¯•,å•ä½ä¸ºç§’
  interval: *INTERVAL-GROUP
  health-check: *HEALTH-CHECK
  lazy: false
  # ç¦ç”¨è¯¥ç­–ç•¥ç»„çš„UDP
  disable-udp: false
  #  è´Ÿè½½å‡è¡¡ç­–ç•¥
  #  consistent-hashing å°†ä¼šæŠŠç›¸åŒé¡¶çº§åŸŸåçš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…çš„åŒä¸€ä¸ªä»£ç†èŠ‚ç‚¹
  #  round-robin å°†ä¼šæŠŠæ‰€æœ‰çš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…ä¸åŒçš„ä»£ç†èŠ‚ç‚¹
  strategy: consistent-hashing
  use: *PROXIES
  exclude-filter: *EXCLUDE-FILTER
  filter: *US-FILTER

proxy-groups-urltest-define: &PROXY-GROUP-URLTEST
  type: url-test
  url: *URL-TEST
  # é—´éš”å¤šé•¿æ—¶é—´è¿›è¡Œä¸€æ¬¡æµ‹è¯•,å•ä½ä¸ºç§’
  interval: *INTERVAL-GROUP
  health-check: *HEALTH-CHECK
  lazy: false
  # ç¦ç”¨è¯¥ç­–ç•¥ç»„çš„UDP
  disable-udp: false
  use: *PROXIES
  exclude-filter: *EXCLUDE-FILTER
  filter: *US-FILTER

proxy-stream-media-define: &PROXY-STREAM-MEDIA
  type: load-balance
  url: *URL-TEST
  # é—´éš”å¤šé•¿æ—¶é—´è¿›è¡Œä¸€æ¬¡æµ‹è¯•,å•ä½ä¸ºç§’
  interval: *INTERVAL-GROUP
  health-check: *HEALTH-CHECK
  lazy: false
  # ç¦ç”¨è¯¥ç­–ç•¥ç»„çš„UDP
  disable-udp: false
  #  è´Ÿè½½å‡è¡¡ç­–ç•¥
  #  consistent-hashing å°†ä¼šæŠŠç›¸åŒé¡¶çº§åŸŸåçš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…çš„åŒä¸€ä¸ªä»£ç†èŠ‚ç‚¹
  #  round-robin å°†ä¼šæŠŠæ‰€æœ‰çš„è¯·æ±‚åˆ†é…ç»™ç­–ç•¥ç»„å†…ä¸åŒçš„ä»£ç†èŠ‚ç‚¹
  strategy: consistent-hashing
  use: *PROXIES
  exclude-filter: *EXCLUDE-FILTER
  filter: *STREAM-MEDIA-FILTER

proxy-groups:
  - { name: ğŸ”¸ğŸ’å…¨éƒ¨èŠ‚ç‚¹ğŸ’ğŸ”¸,   <<: *PROXY-GROUP-BALANCE,   filter: *ALL-FILTER }    
  - { name: ğŸ”¸ğŸˆ²ç¦æ­¢ğŸˆ²ğŸ”¸,       type: url-test,             proxies: [REJECT] }     
  - { name: ğŸ”¸ğŸˆ³è·³è¿‡ğŸˆ³ğŸ”¸,       type: url-test,             proxies: [PASS] }
  - { name: ğŸ”¸ğŸ ç›´è¿ğŸ ğŸ”¸,       type: url-test,             proxies: [DIRECT] }
  - { name: *GPT-NAME,            <<: *PROXY-GROUP-URLTEST,   filter: *GPT-FILTER }
  - { name: *US-NAME,             <<: *PROXY-GROUP-URLTEST }
  - { name: *SG-NAME,             <<: *PROXY-GROUP-URLTEST,   filter: *SG-FILTER }
  - { name: *HK-NAME,             <<: *PROXY-GROUP-URLTEST,   filter: *HK-FILTER }
  - { name: *TW-NAME,             <<: *PROXY-GROUP-URLTEST,   filter: *TW-FILTER }
  - { name: *JP-NAME,             <<: *PROXY-GROUP-URLTEST,   filter: *JP-FILTER }
  - { name: *DEV-NAME,            <<: *PROXY-GROUP-URLTEST }
  - { name: *MICROSOFT-NAME,      <<: *PROXY-GROUP-URLTEST }
  - { name: *GOOGLE-NAME,         <<: *PROXY-GROUP-URLTEST }
  - { name: *APPLE-NAME,          <<: *PROXY-GROUP-URLTEST }
  - { name: *ENT-NAME,            <<: *PROXY-GROUP-URLTEST }
  - { name: *MEDIA-NAME,          <<: *PROXY-GROUP-URLTEST }
  - { name: *GAME-NAME,           <<: *PROXY-GROUP-URLTEST }
  - { name: *TELEGRAM-NAME,       <<: *PROXY-GROUP-URLTEST,   filter: *HK-FILTER }
  - { name: *SYSTEM-NAME,         <<: *PROXY-GROUP-URLTEST }
# è§„åˆ™é›†
rule-providers-define: &RULE-PROVIDES
  type: *TYPE
  interval: 300
  behavior: &BEHAVIOR classical
  format: &FORMAT yaml
  # ç”±äºå®‰å…¨é—®é¢˜ï¼Œæ­¤è·¯å¾„å°†é™åˆ¶åªå…è®¸åœ¨ HomeDirï¼ˆæœ‰å¯åŠ¨å‚æ•° -d é…ç½®ï¼‰ ä¸­ï¼Œ
  # å¦‚æœæƒ³å­˜å‚¨åˆ°ä»»æ„ä½ç½®é…ç½®ç¯å¢ƒå˜é‡ `SKIP_SAFE_PATH_CHECK=1`
  # pathå¯ä¸ºç©º(ä»…é™clash.meta 1.15.0ä»¥ä¸Šç‰ˆæœ¬)
  path: 
  #ã€Metaä¸“å±ã€‘URLå¯æ ¹æ®ruleè®¾å®šåŒ¹é…å¯¹åº”çš„ç­–ç•¥ï¼Œæ–¹ä¾¿æ›´æ–°provider
  url: 
rule-providers:
  TELEGRAM:
    <<: *RULE-PROVIDES
    path: './rules_providers/telegram.yaml'

sub-rules:
  TELEGRAM:
    - IP-CIDR,91.108.56.0/22,ğŸ”¸ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ğŸ”¸
    - IP-CIDR,149.154.168.0/22,ğŸ”¸ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ğŸ”¸ 
    - IP-CIDR,5.28.192.0/18,ğŸ”¸âœˆï¸ç”µæŠ¥âœˆï¸ğŸ”¸
    - GEOIP,telegram,ğŸ”¸âœˆï¸ç”µæŠ¥âœˆï¸ğŸ”¸
rules:
  # æ‹’ç»ç­–ç•¥ - å¼€å§‹  #
  #- GEOSITE,category-ads-all,ğŸ”¸ğŸˆ²ç¦æ­¢ğŸˆ²ğŸ”¸
  #- GEOSITE,qihoo360,ğŸ”¸ğŸˆ²ç¦æ­¢ğŸˆ²ğŸ”¸
  #- DOMAIN-SUFFIX,lan,ğŸ”¸ğŸˆ²ç¦æ­¢ğŸˆ²ğŸ”¸
  # æ‹’ç»ç­–ç•¥ - ç»“æŸ  #

  # åŸŸåç­–ç•¥ - å¼€å§‹  #
  - GEOSITE,telegram,ğŸ”¸ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ğŸ”¸
  - GEOSITE,Zaobao,ğŸ”¸ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ğŸ”¸
  - GEOSITE,Openai,ğŸ”¸ğŸ”³ GPT ğŸ”³ğŸ”¸

  - DOMAIN-SUFFIX,google,ğŸ”¸â˜¢ï¸è°·æ­Œâ˜¢ï¸ğŸ”¸
  - DOMAIN-SUFFIX,hk,ğŸ”¸ğŸ‡­ğŸ‡°é¦™æ¸¯ğŸ‡­ğŸ‡°ğŸ”¸
  - DOMAIN-SUFFIX,tw,ğŸ”¸ğŸ‡¹ğŸ‡¼å°æ¹¾ğŸ‡¹ğŸ‡¼ğŸ”¸
  - DOMAIN-SUFFIX,jp,ğŸ”¸ğŸ‡¯ğŸ‡µæ—¥æœ¬ğŸ‡¯ğŸ‡µğŸ”¸
  - DOMAIN-SUFFIX,sg,ğŸ”¸ğŸ‡¸ğŸ‡¬æ–°åŠ å¡ğŸ‡¸ğŸ‡¬ğŸ”¸

  - GEOSITE,Microsoft,ğŸ”¸â“‚ï¸å¾®è½¯â“‚ï¸ğŸ”¸
  - GEOSITE,Google,ğŸ”¸â˜¢ï¸è°·æ­Œâ˜¢ï¸ğŸ”¸
  - GEOSITE,Apple,ğŸ”¸ğŸè‹¹æœğŸğŸ”¸

  - GEOSITE,Category-games,ğŸ”¸ğŸ’¢æ¸¸æˆğŸ’¢ğŸ”¸
  - GEOSITE,Category-entertainment,ğŸ”¸ğŸ”±å¨±ä¹ğŸ”±ğŸ”¸
  - GEOSITE,Category-media,ğŸ”¸ğŸ“°MEDIAğŸ“°ğŸ”¸
  - GEOSITE,Category-dev,ğŸ”¸ğŸ”°DEVğŸ”°ğŸ”¸
  - GEOSITE,Category-companies,ğŸ”¸ğŸ‡ºğŸ‡¸ç¾å›½ğŸ‡ºğŸ‡¸ğŸ”¸

  - GEOSITE,geolocation-!cn,ğŸ”¸ğŸ‡ºğŸ‡¸ç¾å›½ğŸ‡ºğŸ‡¸ğŸ”¸
  - GEOSITE,tld-!cn,ğŸ”¸ğŸ‡ºğŸ‡¸ç¾å›½ğŸ‡ºğŸ‡¸ğŸ”¸
  # åŸŸåç­–ç•¥ - ç»“æŸ  #

  # fake-ip å…œåº•ç­–ç•¥ - å¼€å§‹
  - IP-CIDR,198.18.0.0/15,ğŸ”¸ğŸ‡ºğŸ‡¸ç¾å›½ğŸ‡ºğŸ‡¸ğŸ”¸
  # fake-ip å…œåº•ç­–ç•¥ - ç»“æŸ

  # Telegram IPç­–ç•¥ - å¼€å§‹  #
  - RULE-SET,TELEGRAM,ğŸ”¸âœˆï¸ç”µæŠ¥âœˆï¸ğŸ”¸
  # Telegram IPç­–ç•¥ - ç»“æŸ  #

  # è¿›ç¨‹ç­–ç•¥ - å¼€å§‹  #
  - PROCESS-NAME,firefox,ğŸ”¸ğŸˆ²ç¦æ­¢ğŸˆ²ğŸ”¸
  - PROCESS-NAME,meta,ğŸ”¸ğŸˆ¯ç³»ç»ŸğŸˆ¯ğŸ”¸
  - PROCESS-NAME,pacman,ğŸ”¸ğŸˆ¯ç³»ç»ŸğŸˆ¯ğŸ”¸
  - PROCESS-NAME,smartdns,ğŸ”¸ğŸˆ¯ç³»ç»ŸğŸˆ¯ğŸ”¸
  - PROCESS-NAME,AGH_Proxy,ğŸ”¸ğŸˆ¯ç³»ç»ŸğŸˆ¯ğŸ”¸
  # è¿›ç¨‹ç­–ç•¥ - ç»“æŸ  #

  # ç»ˆæç­–ç•¥ - å¼€å§‹  #
  - MATCH,ğŸ”¸ğŸ ç›´è¿ğŸ ğŸ”¸
  # ç»ˆæç­–ç•¥ - ç»“æŸ  #
